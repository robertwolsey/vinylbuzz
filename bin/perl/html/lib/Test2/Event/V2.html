<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Test2::Event::V2 - Second generation event.</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="_podblock_" style="background-color: #cccccc; color: #000" valign="middle">
<big><strong><span class="_podblock_">&nbsp;Test2::Event::V2 - Second generation event.</span></strong></big>
</td></tr>
</table>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a>
    <ul>
      <li><a href="#USING-A-CONTEXT">USING A CONTEXT</a></li>
      <li><a href="#USING-THE-CONSTRUCTOR">USING THE CONSTRUCTOR</a></li>
    </ul>
  </li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#MUTATION">MUTATION</a></li>
      <li><a href="#LEGACY-SUPPORT-METHODS">LEGACY SUPPORT METHODS</a></li>
    </ul>
  </li>
  <li><a href="#THIRD-PARTY-META-DATA">THIRD PARTY META-DATA</a></li>
  <li><a href="#SOURCE">SOURCE</a></li>
  <li><a href="#MAINTAINERS">MAINTAINERS</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Test2::Event::V2 - Second generation event.</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This is the event type that should be used instead of <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a> or its legacy subclasses.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<h2 id="USING-A-CONTEXT">USING A CONTEXT</h2>

<pre><code>    use Test2::API qw/context/;

    sub my_tool {
        my $ctx = context();

        my $event = $ctx-&gt;send_ev2(info =&gt; [{tag =&gt; &#39;NOTE&#39;, details =&gt; &quot;This is a note&quot;}]);

        $ctx-&gt;release;

        return $event;
    }</code></pre>

<h2 id="USING-THE-CONSTRUCTOR">USING THE CONSTRUCTOR</h2>

<pre><code>    use Test2::Event::V2;

    my $e = Test2::Event::V2-&gt;new(
        trace =&gt; {frame =&gt; [$PKG, $FILE, $LINE, $SUBNAME]},
        info  =&gt; [{tag =&gt; &#39;NOTE&#39;, details =&gt; &quot;This is a note&quot;}],
    );</code></pre>

<h1 id="METHODS">METHODS</h1>

<p>This class inherits from <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a>.</p>

<dl>

<dt id="fd-e-facet_data">$fd = $e-&gt;facet_data()</dt>
<dd>

<p>This will return a hashref of facet data. Each facet hash will be a shallow copy of the original.</p>

</dd>
<dt id="about-e-about">$about = $e-&gt;about()</dt>
<dd>

<p>This will return the &#39;about&#39; facet hashref.</p>

<p><b>NOTE:</b> This will return the internal hashref, not a copy.</p>

</dd>
<dt id="trace-e-trace">$trace = $e-&gt;trace()</dt>
<dd>

<p>This will return the &#39;trace&#39; facet, normally blessed (but this is not enforced when the trace is set using <code>set_trace()</code>.</p>

<p><b>NOTE:</b> This will return the internal trace, not a copy.</p>

</dd>
</dl>

<h2 id="MUTATION">MUTATION</h2>

<dl>

<dt id="e-add_amnesty">$e-&gt;add_amnesty({...})</dt>
<dd>

<p>Inherited from <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a>. This can be used to add &#39;amnesty&#39; facets to an existing event. Each new item is added to the <b>END</b> of the list.</p>

<p><b>NOTE:</b> Items <b>ARE</b> blessed when added.</p>

</dd>
<dt id="e-add_hub">$e-&gt;add_hub({...})</dt>
<dd>

<p>Inherited from <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a>. This is used by hubs to stamp events as they pass through. New items are added to the <b>START</b> of the list.</p>

<p><b>NOTE:</b> Items <b>ARE NOT</b> blessed when added.</p>

</dd>
<dt id="e-set_uuid-UUID">$e-&gt;set_uuid($UUID)</dt>
<dd>

<p>Inherited from <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a>, overridden to also vivify/mutate the &#39;about&#39; facet.</p>

</dd>
<dt id="e-set_trace-trace">$e-&gt;set_trace($trace)</dt>
<dd>

<p>Inherited from <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a> which allows you to change the trace.</p>

<p><b>Note:</b> This method does not bless/clone the trace for you. Many things will expect the trace to be blessed, so you should probably do that.</p>

</dd>
</dl>

<h2 id="LEGACY-SUPPORT-METHODS">LEGACY SUPPORT METHODS</h2>

<p>These are all imported from <a href="file:/c|/perl/html/lib/Test2/Util/Facets2Legacy.html">Test2::Util::Facets2Legacy</a>, see that module or <a href="file:/c|/perl/html/lib/Test2/Event.html">Test2::Event</a> for documentation on what they do.</p>

<dl>

<dt id="causes_fail">causes_fail</dt>
<dd>

</dd>
<dt id="diagnostics">diagnostics</dt>
<dd>

</dd>
<dt id="global">global</dt>
<dd>

</dd>
<dt id="increments_count">increments_count</dt>
<dd>

</dd>
<dt id="no_display">no_display</dt>
<dd>

</dd>
<dt id="sets_plan">sets_plan</dt>
<dd>

</dd>
<dt id="subtest_id">subtest_id</dt>
<dd>

</dd>
<dt id="summary">summary</dt>
<dd>

</dd>
<dt id="terminate">terminate</dt>
<dd>

</dd>
</dl>

<h1 id="THIRD-PARTY-META-DATA">THIRD PARTY META-DATA</h1>

<p>This object consumes <a href="file:/c|/perl/html/lib/Test2/Util/ExternalMeta.html">Test2::Util::ExternalMeta</a> which provides a consistent way for you to attach meta-data to instances of this class. This is useful for tools, plugins, and other extensions.</p>

<h1 id="SOURCE">SOURCE</h1>

<p>The source code repository for Test2 can be found at <i>http://github.com/Test-More/test-more/</i>.</p>

<h1 id="MAINTAINERS">MAINTAINERS</h1>

<dl>

<dt id="Chad-Granum-exodist-cpan.org">Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="AUTHORS">AUTHORS</h1>

<dl>

<dt id="Chad-Granum-exodist-cpan.org1">Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright 2019 Chad Granum &lt;exodist@cpan.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>See <i>http://dev.perl.org/licenses/</i></p>

<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="_podblock_" style="background-color: #cccccc; color: #000" valign="middle">
<big><strong><span class="_podblock_">&nbsp;Test2::Event::V2 - Second generation event.</span></strong></big>
</td></tr>
</table>

</body>

</html>


